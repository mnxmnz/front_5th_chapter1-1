var r=Object.defineProperty;var a=(n,e,t)=>e in n?r(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var s=(n,e,t)=>a(n,typeof e!="symbol"?e+"":e,t);import{r as u,a as i,E as h,L as o,b as c,s as d,P as g,M as l}from"./eventHandlers-DXSdPZEg.js";class p{constructor(e){s(this,"containerElement",null);s(this,"routeMapping",{});s(this,"protectedRoutes",["/profile"]);s(this,"guestOnlyRoutes",["/login"]);s(this,"activeRoutePath",null);this.routeMapping=e,this.containerElement=document.getElementById("root")||document.body,u(),this._initializeEventListeners(),this.processRouteChange()}_initializeEventListeners(){window.addEventListener("DOMContentLoaded",()=>this.processRouteChange()),window.addEventListener("popstate",()=>this.processRouteChange()),document.addEventListener("click",this._handleNavLinkClick.bind(this))}_handleNavLinkClick(e){e.target.tagName==="A"&&e.target.href.startsWith(window.location.origin)&&(e.preventDefault(),this.changeRoute(e.target.pathname))}hasAccessPermission(e){const t=i.getIsLoggedIn();return this.protectedRoutes.includes(e)?t:this.guestOnlyRoutes.includes(e)?!t:!0}_redirectBasedOnAuthStatus(){i.getIsLoggedIn()?this.changeRoute("/"):this.changeRoute("/login")}_renderPageContent(e){const t=e();if(typeof t=="string"){this.containerElement.innerHTML=t;return}t.template?(this.containerElement.innerHTML=t.template,typeof t.init=="function"&&t.init()):console.error()}processRouteChange(){const e=window.location.pathname;if(this.activeRoutePath=e,!this.hasAccessPermission(e)){this._redirectBasedOnAuthStatus();return}const t=this.routeMapping[e]||this.routeMapping["/error"];this._renderPageContent(t)}changeRoute(e){this.activeRoutePath!==e&&(window.history.pushState({},"",e),this.processRouteChange())}}const f={"/":()=>o(l()),"/login":()=>c(),"/profile":()=>o(g()),"/error":()=>h()},m=new p(f);d(m);
